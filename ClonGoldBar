local Players = game:GetService("Players")
local player = Players.LocalPlayer
local bandageTemplate = workspace:WaitForChild("RuntimeItems"):WaitForChild("Bandage")

local function createBandage()
    -- Создаем копию бандажа
    local newBandage = bandageTemplate:Clone()
    
    -- Настраиваем атрибуты (как у оригинала)
    newBandage:SetAttribute("Value", 5)
    newBandage:SetAttribute("IsBeingDragged", false)
    
    -- Делаем его инструментом (Tool)
    local tool = Instance.new("Tool")
    tool.Name = "Bandage"
    tool.CanBeDropped = true
    
    -- Переносим все части в инструмент
    for _, child in ipairs(newBandage:GetChildren()) do
        child.Parent = tool
    end
    
    -- Назначаем Handle (обязательно для Tool)
    local handle = tool:FindFirstChild("Handle")
    if not handle then
        handle = tool:FindFirstChildWhichIsA("BasePart")
        if handle then
            handle.Name = "Handle"
        end
    end
    
    -- Добавляем функционал лечения (базовый пример)
    local healScript = Instance.new("Script")
    healScript.Name = "HealScript"
    healScript.Source = [[
        local tool = script.Parent
        tool.Activated:Connect(function()
            local humanoid = tool.Parent:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.Health = math.min(humanoid.Health + tool:GetAttribute("Value"), humanoid.MaxHealth)
                tool:Destroy()
            end
        end)
    ]]
    healScript.Parent = tool
    
    -- Добавляем в инвентарь
    tool.Parent = player:FindFirstChild("Backpack") or player.Character
    
    return tool
end

-- Создаем кнопку для мобильных устройств
local function createMobileButton()
    local gui = Instance.new("ScreenGui")
    local button = Instance.new("TextButton")
    
    gui.Parent = player:WaitForChild("PlayerGui")
    button.Parent = gui
    
    -- Настройки кнопки
    button.Size = UDim2.new(0.3, 0, 0.1, 0)
    button.Position = UDim2.new(0.7, 0, 0.8, 0)
    button.Text = "Создать бандаж"
    button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
    
    -- Обработка нажатия
    button.MouseButton1Click:Connect(function()
        createBandage()
    end)
end

-- Инициализация
createMobileButton()
