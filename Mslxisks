-- Сканирует все RemoteEvent и RemoteFunction в игре и логирует их активность

local remotes = {}
local function scan(obj)
    if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
        table.insert(remotes, obj)
    end
    for _, child in pairs(obj:GetChildren()) do
        scan(child)
    end
end

scan(game.ReplicatedStorage)
scan(game:GetService("Players").LocalPlayer)

-- Логируем RemoteEvent
for _, remote in ipairs(remotes) do
    if remote:IsA("RemoteEvent") then
        remote.OnClientEvent:Connect(function(...)
            print("[RemoteEvent] "..remote:GetFullName(), ...)
        end)
    elseif remote:IsA("RemoteFunction") then
        local mt = getrawmetatable(game)
        setreadonly(mt, false)
        local oldInvoke = mt.__namecall
        mt.__namecall = function(self, ...)
            local method = getnamecallmethod()
            if self:IsA("RemoteFunction") and method == "InvokeServer" then
                print("[RemoteFunction] "..self:GetFullName(), ...)
            end
            return oldInvoke(self, ...)
        end
    end
end

print("[!] Логгер активен. Жди появление бандажа и смотри в консоль.")
