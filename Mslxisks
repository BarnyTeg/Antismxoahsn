-- SpiderXHub Kill Aura для Dead Rails
local player = game:GetService("Players").LocalPlayer
local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
local workspace = game:GetService("Workspace")

-- Настройки ауры
local radius = 25 -- Радиус (студсы)
local damage = 100 -- Урон (ваншотит большинство мобов)
local cooldown = 0.2 -- Задержка между тиками

-- Поиск врагов
local function getEnemies()
    local enemies = {}
    for _, v in pairs(workspace:GetChildren()) do
        if v:FindFirstChild("Humanoid") and v ~= player.Character then
            local enemyHRP = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("Torso")
            if enemyHRP and (enemyHRP.Position - hrp.Position).Magnitude <= radius then
                table.insert(enemies, v)
            end
        end
    end
    return enemies
end

-- Нанесение урона (прямой метод + поиск RemoteEvent)
local function damageEnemy(enemy)
    local humanoid = enemy:FindFirstChild("Humanoid")
    if humanoid and humanoid.Health > 0 then
        humanoid:TakeDamage(damage) -- Прямой урон (если сервер не блочит)
        -- Пробуем через RemoteEvent
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("Damage") or
                       game:GetService("ReplicatedStorage"):FindFirstChild("Hit") or
                       game:GetService("ReplicatedStorage"):FindFirstChild("TakeDamage")
        if remote and remote:IsA("RemoteEvent") then
            remote:FireServer(enemy, damage) -- Спамим серверу
        end
    end
end

-- Запуск ауры
spawn(function()
    while wait(cooldown) do
        if not hrp then
            hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if not hrp then continue end
        end
        local enemies = getEnemies()
        for _, enemy in pairs(enemies) do
            damageEnemy(enemy)
            print("Замочил " .. enemy.Name)
        end
        if #enemies > 0 then
            print("Убил " .. #enemies .. " врагов!")
        end
    end
end)

print("Килл аура запущена! Радиус: " .. radius)
