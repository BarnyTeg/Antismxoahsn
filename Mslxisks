local function scanObjects(radius)
    local objects = {}
    for _, object in pairs(workspace:GetDescendants()) do
        if object:IsA("BasePart") and (object.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude <= radius then
            table.insert(objects, object)
        end
    end
    return objects
end

local function getScripts(object)
    local scripts = {}
    for _, script in pairs(workspace:GetDescendants()) do
        if script:IsA("Script") or script:IsA("LocalScript") then
            local scriptCode = script:GetLines()
            for _, line in pairs(scriptCode) do
                if line:find(object.Name) or line:find(object:GetFullName()) then
                    table.insert(scripts, script)
                    break
                end
            end
        end
    end
    return scripts
end

local function printScripts(object)
    local scripts = getScripts(object)
    if #scripts > 0 then
        print(object.Name .. ":")
        for _, script in pairs(scripts) do
            print(script.Name .. ":")
            for _, line in pairs(script:GetLines()) do
                print(line)
            end
        end
    else
        print(object.Name .. ": Нет скриптов")
    end
end

while true do
    local objects = scanObjects(10)
    for _, object in pairs(objects) do
        printScripts(object)
    end
    wait(1)
end
