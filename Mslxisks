local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()

local PhantomForcesWindow = Library:NewWindow("Dead Rails Cheats")
local MonsterCheats = PhantomForcesWindow:NewSection("Monster Spawner")

-- Переменные
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local rootPart = character:WaitForChild("HumanoidRootPart")
local workspace = game.Workspace
local replicatedStorage = game:GetService("ReplicatedStorage")

-- Функция для создания монстра
local function spawnMonster()
    -- Ищем модель оборотня в игре (предположим, что она есть в ReplicatedStorage или Workspace)
    local werewolfModel = replicatedStorage:FindFirstChild("Werewolf") or workspace:FindFirstChild("Werewolf")
    if not werewolfModel then
        print("Модель Werewolf не найдена! Попробуй заспавнить оборотня в игре сначала.")
        return
    end

    -- Клонируем модель
    local monster = werewolfModel:Clone()
    monster.Name = "CustomMonster"
    
    -- Настраиваем размер (2 метра в высоту)
    local humanoid = monster:FindFirstChildOfClass("Humanoid")
    if humanoid then
        local originalHeight = humanoid.HipHeight
        humanoid.HipHeight = 2 -- Примерно 2 метра
        for _, part in pairs(monster:GetDescendants()) do
            if part:IsA("BasePart") then
                local scaleFactor = 2 / originalHeight
                part.Size = part.Size * scaleFactor
            end
        end
    end

    -- Делаем монстра неуязвимым
    if humanoid then
        humanoid.MaxHealth = math.huge
        humanoid.Health = math.huge
    end

    -- Позиция спавна (10-15 студс от игрока)
    local spawnDistance = 15
    local spawnPos = rootPart.CFrame * CFrame.new(0, 2, -spawnDistance)
    monster:SetPrimaryPartCFrame(spawnPos)
    monster.Parent = workspace

    -- Настраиваем поведение (атакует NPC, игнорирует игроков)
    local aggroScript = Instance.new("Script")
    aggroScript.Name = "AggroScript"
    aggroScript.Parent = monster
    aggroScript.Source = [[
        local monster = script.Parent
        local humanoid = monster:FindFirstChildOfClass("Humanoid")
        local rootPart = monster:FindFirstChild("HumanoidRootPart")

        while true do
            -- Ищем ближайших NPC
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("Model") and obj ~= monster and obj:FindFirstChildOfClass("Humanoid") then
                    local targetHumanoid = obj:FindFirstChildOfClass("Humanoid")
                    local targetRoot = obj:FindFirstChild("HumanoidRootPart")
                    if targetHumanoid and targetRoot and not game.Players:GetPlayerFromCharacter(obj) then -- Игнорируем игроков
                        local distance = (rootPart.Position - targetRoot.Position).Magnitude
                        if distance <= 50 then
                            -- Двигаемся к цели
                            humanoid:MoveTo(targetRoot.Position)
                            -- Сплеш-урон
                            if distance <= 5 then
                                targetHumanoid:TakeDamage(50) -- Высокий урон
                                -- Сплеш-урон по ближайшим NPC
                                for _, nearby in pairs(workspace:GetDescendants()) do
                                    if nearby:IsA("Model") and nearby ~= obj and nearby ~= monster and nearby:FindFirstChildOfClass("Humanoid") then
                                        local nearbyHumanoid = nearby:FindFirstChildOfClass("Humanoid")
                                        local nearbyRoot = nearby:FindFirstChild("HumanoidRootPart")
                                        if nearbyHumanoid and nearbyRoot then
                                            local splashDistance = (nearbyRoot.Position - targetRoot.Position).Magnitude
                                            if splashDistance <= 10 then
                                                nearbyHumanoid:TakeDamage(30) -- Сплеш-урон
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
            wait(0.1)
        end
    ]]

    -- Делаем так, чтобы другие монстры агрились на нашего
    local aggroTag = Instance.new("ObjectValue")
    aggroTag.Name = "AggroTarget"
    aggroTag.Value = monster
    aggroTag.Parent = monster

    -- Делаем монстра видимым для всех (серверный объект)
    monster.Parent = workspace
end

-- Кнопка для спавна монстра
MonsterCheats:CreateButton("Spawn Custom Monster", function()
    spawnMonster()
end)
