local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()

local PhantomForcesWindow = Library:NewWindow("Dead Rails Cheats")
local BondCheats = PhantomForcesWindow:NewSection("Bond Farming")

-- Переменные
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")
local camera = game.Workspace.CurrentCamera
local moving = false
local moveDistance = 100 -- Пошаговое расстояние для камеры
local detectionRadius = 500 -- Радиус обнаружения облигаций
local originalPos = rootPart.CFrame -- Исходная позиция персонажа

-- Функция для перемещения камеры
local function startMovingCamera()
    camera.CameraType = Enum.CameraType.Scriptable -- Делаем камеру управляемой
    local cameraPos = camera.CFrame
    moving = true
    while moving do
        cameraPos = cameraPos * CFrame.new(0, 0, -moveDistance) -- Двигаем камеру вперёд
        camera.CFrame = cameraPos
        wait(0.1) -- Пошаговая задержка
    end
    -- Возвращаем камеру в нормальный режим
    camera.CameraType = Enum.CameraType.Custom
end

-- Функция для остановки движения камеры
local function stopMovingCamera()
    moving = false
    camera.CameraType = Enum.CameraType.Custom -- Возвращаем управление камерой игроку
end

-- Функция для поиска облигаций от позиции камеры
local function findBonds()
    local cameraPos = camera.CFrame.Position
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj.Name == "Bond" and (obj.Position - cameraPos).Magnitude <= detectionRadius then
            return obj
        end
    end
    return nil
end

-- Функция для поиска всех облигаций в мире
local function findAllBonds()
    local bonds = {}
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj.Name == "Bond" then
            table.insert(bonds, obj)
        end
    end
    return bonds
end

-- Функция для телепорта и сбора
local function collectBond(bond)
    if bond then
        -- Телепортируем персонажа к облигации
        rootPart.CFrame = CFrame.new(bond.Position + Vector3.new(0, 5, 0))
        wait(0.1)
        -- Предполагаем, что сбор работает через FireServer
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("CollectItem") -- Замени на правильный RemoteEvent
        if remote then
            remote:FireServer(bond)
        end
        -- Возвращаем персонажа на исходную позицию
        rootPart.CFrame = originalPos
    end
end

-- Функция для смерти
local function killSelf()
    humanoid.Health = 0
end

-- Основной чит
BondCheats:CreateButton("Start Bond Farming", function()
    -- Сохраняем исходную позицию
    originalPos = rootPart.CFrame
    humanoid.WalkSpeed = 0 -- Зафиксируем персонажа на месте

    -- Начинаем движение камеры
    startMovingCamera()

    -- Основной цикл
    while true do
        local bond = findBonds()
        if bond then
            stopMovingCamera()
            collectBond(bond)
            wait(0.1)
            startMovingCamera()
        else
            -- Проверяем, застряли ли камера (например, больше нет облигаций)
            local remainingBonds = findAllBonds()
            if #remainingBonds == 0 then
                stopMovingCamera()
                -- Собираем все оставшиеся облигации
                for _, bond in pairs(remainingBonds) do
                    collectBond(bond)
                    wait(0.1)
                end
                -- Умираем
                killSelf()
                break
            end
        end
        wait()
    end
end)

BondCheats:CreateButton("Stop Moving Camera", function()
    stopMovingCamera()
    humanoid.WalkSpeed = 16 -- Возвращаем скорость
    rootPart.CFrame = originalPos -- Возвращаем персонажа
end)
