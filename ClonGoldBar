local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- 1. Находим все шаблоны газет и их ID
local function findNewspaperTemplates()
    local templates = {}
    for _, item in ipairs(ReplicatedStorage:GetDescendants()) do
        if item.Name == "Part" and item:IsA("BasePart") then
            table.insert(templates, {
                object = item,
                id = item:GetDebugId()
            })
        end
    end
    return templates
end

-- 2. Создаем клон с новым уникальным ID
local function createModifiedNewspaper()
    -- Находим все шаблоны
    local templates = findNewspaperTemplates()
    if #templates == 0 then
        print("❌ Шаблоны газет не найдены")
        return
    end

    -- Выбираем первый шаблон (можно изменить логику выбора)
    local original = templates[1].object
    local originalId = templates[1].id

    -- Создаем глубокую копию
    local newspaper = original:Clone()
    
    -- Генерируем новый уникальный ID (отличающийся от всех шаблонов)
    local newId
    repeat
        newId = "1_" .. tostring(math.random(10000, 99999))
        local idExists = false
        for _, template in ipairs(templates) do
            if tostring(template.id) == newId then
                idExists = true
                break
            end
        end
    until not idExists

    -- Настраиваем копию
    newspaper.Name = "ModifiedNewspaper"
    newspaper:SetAttribute("OriginalTemplateId", originalId)
    newspaper:SetAttribute("NewId", newId)
    
    -- Добавляем в мир перед игроком
    newspaper.Parent = workspace
    if player.Character then
        local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
        if humanoidRootPart then
            newspaper.Position = humanoidRootPart.Position + Vector3.new(0, 0, -3)
        end
    end

    print("✅ Создана модифицированная газета")
    print("ID оригинала:", originalId)
    print("Новый ID клона:", newId)
    
    return newspaper
end

-- Запуск создания
createModifiedNewspaper()
