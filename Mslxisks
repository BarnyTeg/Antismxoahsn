local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Создание модели вертолёта
local Helicopter = Instance.new("Model", workspace)
Helicopter.Name = "MobileHelicopter"

-- Основной корпус
local body = Instance.new("Part")
body.Size = Vector3.new(6, 1, 10)
body.Position = Vector3.new(0, 10, 0)
body.Anchored = false
body.Name = "Body"
body.BrickColor = BrickColor.new("Dark stone grey")
body.Parent = Helicopter

-- Пропеллер
local propeller = Instance.new("Part")
propeller.Size = Vector3.new(1, 0.2, 12)
propeller.Position = body.Position + Vector3.new(0, 1.5, 0)
propeller.Anchored = false
propeller.BrickColor = BrickColor.new("Really black")
propeller.Name = "Propeller"
propeller.Parent = Helicopter

-- Сиденье (рабочее)
local seat = Instance.new("VehicleSeat")
seat.Size = Vector3.new(2, 1, 2)
seat.Position = body.Position + Vector3.new(0, 1, 0)
seat.Anchored = false
seat.Name = "PilotSeat"
seat.CanCollide = true
seat.MaxSpeed = 50
seat.Torque = Vector3.new(100000, 100000, 100000)
seat.TurnSpeed = 2
seat.BrickColor = BrickColor.new("Bright blue")
seat.Parent = Helicopter

-- Привариваем всё к корпусу
local function weld(part1, part2)
	local weld = Instance.new("WeldConstraint")
	weld.Part0 = part1
	weld.Part1 = part2
	weld.Parent = part1
end

weld(body, seat)
weld(body, propeller)

-- PrimaryPart и позиционирование
Helicopter.PrimaryPart = body
Helicopter:SetPrimaryPartCFrame(CFrame.new(0, 10, 0))

-- Кручение пропеллера
RunService.RenderStepped:Connect(function()
	propeller.CFrame = propeller.CFrame * CFrame.Angles(0, math.rad(30), 0)
end)

-- Проверка посадки
seat:GetPropertyChangedSignal("Occupant"):Connect(function()
	local occupant = seat.Occupant
	if occupant then
		local plr = Players:GetPlayerFromCharacter(occupant.Parent)
		if plr then
			warn(plr.Name .. " сел в вертолёт")
		end
	end
end)
