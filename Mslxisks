local player = game:GetService("Players").LocalPlayer
local workspace = game:GetService("Workspace")
local replicated = game:GetService("ReplicatedStorage")

-- Настройки
local radius = 30 -- Радиус ауры
local damage = 1000 -- Урон (чтоб уж точно ваншот)
local cooldown = 0.1 -- Задержка

-- Поиск врагов
local function getEnemies()
    local enemies = {}
    local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return enemies end
    
    -- Проверяем Workspace и возможные папки с врагами
    for _, folder in pairs({workspace, workspace:FindFirstChild("Enemies"), workspace:FindFirstChild("NPCs")}) do
        if folder then
            for _, v in pairs(folder:GetChildren()) do
                if v:FindFirstChild("Humanoid") and v ~= player.Character then
                    local enemyHRP = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("Torso")
                    if enemyHRP and (enemyHRP.Position - hrp.Position).Magnitude <= radius then
                        table.insert(enemies, v)
                    end
                end
            end
        end
    end
    return enemies
end

-- Нанесение урона
local function damageEnemy(enemy)
    local humanoid = enemy:FindFirstChild("Humanoid")
    if humanoid and humanoid.Health > 0 then
        -- Прямой урон
        humanoid:TakeDamage(damage)
        -- Поиск RemoteEvent для урона
        local remote = nil
        for _, v in pairs(replicated:GetDescendants()) do
            if v:IsA("RemoteEvent") and (v.Name:lower():find("damage") or v.Name:lower():find("hit")) then
                remote = v
                break
            end
        end
        if remote then
            remote:FireServer(enemy.Humanoid, damage) -- Спамим серверу
            print("Спамим урон через " .. remote.Name)
        else
            print("RemoteEvent для урона не нашёл!")
        end
    end
end

-- Запуск ауры
spawn(function()
    while wait(cooldown) do
        local enemies = getEnemies()
        for _, enemy in pairs(enemies) do
            damageEnemy(enemy)
            print("Бью " .. enemy.Name)
        end
        if #enemies > 0 then
            print("Замочил " .. #enemies .. " врагов!")
        end
    end
end)

print("Килл аура от Delta Hub запущена! Радиус: " .. radius)
