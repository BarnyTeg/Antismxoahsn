local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
while not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") do
    wait(0.1)
end

-- Создаем сиденье с фиксированной позицией
local seat = Instance.new("Seat")
seat.Name = "HelicopterSeat"
seat.Size = Vector3.new(3, 1.5, 3)
seat.Anchored = true
seat.CanCollide = true
seat.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5) * CFrame.Angles(0, math.rad(180), 0)
seat.Parent = Workspace

-- Жесткая фиксация позиции
local sitCFrame = seat.CFrame * CFrame.new(0, -0.7, 0) * CFrame.Angles(-0.2, 0, 0)

seat.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChildOfClass("Humanoid")
    if humanoid and humanoid == player.Character.Humanoid then
        
        -- Телепортация в фиксированную позу
        humanoid.Sit = true
        humanoid.RootPart.CFrame = sitCFrame
        
        -- Жесткая фиксация (повторяем 5 раз для надежности)
        for i = 1, 5 do
            wait(0.1)
            humanoid.RootPart.CFrame = sitCFrame
            humanoid.Sit = true
        end
        
        -- Отключаем физику персонажа
        humanoid.PlatformStand = true
    end
end)

-- Выход по прыжку
player.Character.Humanoid.Jumping:Connect(function()
    if player.Character.Humanoid.Sit then
        player.Character.Humanoid.PlatformStand = false
        player.Character.Humanoid.Sit = false
    end
end)
