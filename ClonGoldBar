local Players = game:GetService("Players")
local player = Players.LocalPlayer
local RunService = game:GetService("RunService")

-- Настройки
local SPAWN_INTERVAL = 30  -- Интервал спавна (секунды)
local SPAWN_HEIGHT = 3      -- Высота над головой
local originalGold = game.Workspace.RuntimeItems.GoldBar.Prop_GoldBar  -- Оригинальный слиток

-- Функция создания точной копии (но с новым Instance ID)
local function spawnExactCopy()
    if not player.Character then return end
    local head = player.Character:FindFirstChild("Head")
    if not head then return end

    -- 1. Полное клонирование оригинала
    local goldCopy = originalGold:Clone()
    
    -- 2. Уникальные идентификаторы:
    goldCopy.Name = originalGold.Name.."_"..tick()  -- Новое имя + временная метка
    goldCopy.Position = head.Position + Vector3.new(0, SPAWN_HEIGHT, 0)
    goldCopy.Anchored = true  -- Фиксируем позицию (не летает)
    goldCopy.Parent = workspace

    -- 3. Проверка: это действительно новый объект?
    print("Создан слиток: "..goldCopy:GetFullName())
    print("Original ID: "..tostring(originalGold:GetDebugId()))
    print("Copy ID: "..tostring(goldCopy:GetDebugId()))
end

-- Автоматический спавн
local spawnConnection
local function startSpawning()
    spawnConnection = RunService.Heartbeat:Connect(function()
        task.wait(SPAWN_INTERVAL)
        spawnExactCopy()
    end)
end

-- Инициализация
player.CharacterAdded:Connect(function()
    if spawnConnection then spawnConnection:Disconnect() end
    startSpawning()
end)

if player.Character then startSpawning() end
