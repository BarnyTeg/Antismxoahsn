local radius = 15 -- радиус сканирования в метрах
local includeChildren = true -- включать ли информацию о дочерних объектах

local function getPlayerPosition()
    local player = game:GetService("Players").LocalPlayer
    return player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") 
        and player.Character.HumanoidRootPart.Position or Vector3.new(0, 0, 0)
end

local function safeToString(value)
    local success, result = pcall(function()
        if typeof(value) == "Instance" then
            return value:GetFullName()
        elseif typeof(value) == "Vector3" then
            return string.format("(%.2f, %.2f, %.2f)", value.X, value.Y, value.Z)
        elseif typeof(value) == "Color3" then
            return string.format("(%.2f, %.2f, %.2f)", value.R, value.G, value.B)
        else
            return tostring(value)
        end
    end)
    return success and result or "N/A"
end

local function getExtendedInfo(obj)
    local info = {}
    
    -- Базовые свойства
    table.insert(info, "🔹 Class: "..safeToString(obj.ClassName))
    table.insert(info, "🔹 Name: "..safeToString(obj.Name))
    table.insert(info, "🔹 FullPath: "..safeToString(obj:GetFullName()))
    table.insert(info, "🔹 RobloxID: "..safeToString(obj:GetDebugId()))
    
    -- Физические свойства
    if obj:IsA("BasePart") then
        table.insert(info, "📏 Position: "..safeToString(obj.Position))
        table.insert(info, "📐 Size: "..safeToString(obj.Size))
        table.insert(info, "🧱 Material: "..safeToString(obj.Material))
        table.insert(info, "🔘 Anchored: "..safeToString(obj.Anchored))
        table.insert(info, "💥 CanCollide: "..safeToString(obj.CanCollide))
        table.insert(info, "👁️ Transparency: "..safeToString(obj.Transparency))
    end
    
    -- Для моделей
    if obj:IsA("Model") then
        table.insert(info, "🧩 PrimaryPart: "..safeToString(obj.PrimaryPart))
        table.insert(info, "🧒 Children: "..safeToString(#obj:GetChildren()))
    end
    
    -- Визуальные свойства
    if obj:IsA("GuiObject") then
        table.insert(info, "🎨 BackgroundColor: "..safeToString(obj.BackgroundColor3))
    elseif obj:IsA("BasePart") then
        table.insert(info, "🖼️ TextureCount: "..safeToString(#obj:GetChildrenOfClass("Texture")))
    end
    
    -- Специфичные свойства
    if obj:IsA("Light") then
        table.insert(info, "💡 Brightness: "..safeToString(obj.Brightness))
        table.insert(info, "🌈 Color: "..safeToString(obj.Color))
    end
    
    -- Расстояние до игрока
    local rootPart = obj:IsA("BasePart") and obj or obj:FindFirstChildOfClass("BasePart") or obj.PrimaryPart
    if rootPart then
        local dist = (rootPart.Position - getPlayerPosition()).Magnitude
        table.insert(info, "📏 Distance: "..string.format("%.1f", dist).."m")
    end
    
    -- Дополнительные метаданные
    table.insert(info, "🕒 CreatedTime: "..safeToString(obj:GetAttribute("CreatedTime")))
    
    -- Теги
    local tags = {}
    for _, tag in ipairs(game:GetService("CollectionService"):GetTags(obj)) do
        table.insert(tags, tag)
    end
    table.insert(info, "🏷️ Tags: "..(#tags > 0 and table.concat(tags, ", ") or "None"))
    
    -- Дочерние объекты
    if includeChildren and #obj:GetChildren() > 0 then
        table.insert(info, "\n🧒 Children ("..#obj:GetChildren().."):")
        for i, child in ipairs(obj:GetChildren()) do
            if i <= 5 then
                table.insert(info, string.format("  %d. %s (%s)", i, safeToString(child.Name), safeToString(child.ClassName)))
            end
        end
        if #obj:GetChildren() > 5 then
            table.insert(info, string.format("  ... and %d more", #obj:GetChildren() - 5))
        end
    end
    
    return table.concat(info, "\n")
end

local function scanArea()
    local result = {"=== SCAN RESULTS ==="}
    local count = 0
    
    for _, obj in pairs(workspace:GetDescendants()) do
        local rootPart = obj:IsA("BasePart") and obj or obj:FindFirstChildOfClass("BasePart") or obj.PrimaryPart
        if rootPart and (rootPart.Position - getPlayerPosition()).Magnitude <= radius then
            local success, info = pcall(getExtendedInfo, obj)
            table.insert(result, "\n"..(success and info or "🚫 Failed to get info for this object"))
            count = count + 1
        end
    end
    
    table.insert(result, string.format("\n=== Found %d objects in %dm radius ===", count, radius))
    
    local output = table.concat(result, "\n")
    setclipboard(output)
    print(output)
    print("\n[SUCCESS] Data copied to clipboard!")
end

-- Первый запуск
scanArea()

-- Автоматическое обновление (по желанию)
while true do
    wait(30)
    scanArea()
end
