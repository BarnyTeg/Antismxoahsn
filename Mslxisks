local player = game:GetService("Players").LocalPlayer
local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
local workspace = game:GetService("Workspace")

-- Настройки килл ауры
local radius = 20 -- Радиус действия (в студсах)
local damage = 100 -- Урон (должен убивать с одного удара)
local cooldown = 0.1 -- Задержка между ударами

-- Функция для поиска врагов
local function getEnemies()
    local enemies = {}
    for _, v in pairs(workspace:GetChildren()) do
        -- Ищем мобов по имени или humanoid
        if v:FindFirstChild("Humanoid") and v ~= player.Character then
            local enemyHRP = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("Torso")
            if enemyHRP and (enemyHRP.Position - hrp.Position).Magnitude <= radius then
                table.insert(enemies, v)
            end
        end
    end
    return enemies
end

-- Функция для нанесения урона
local function damageEnemy(enemy)
    local humanoid = enemy:FindFirstChild("Humanoid")
    if humanoid and humanoid.Health > 0 then
        -- Пробуем нанести урон через RemoteEvent или напрямую
        humanoid:TakeDamage(damage)
        -- Если есть RemoteEvent для урона, можно добавить сюда
        -- Например: remote:FireServer(enemy, damage)
    end
end

-- Основной цикл килл ауры
spawn(function()
    while wait(cooldown) do
        if not hrp then
            hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if not hrp then continue end
        end
        local enemies = getEnemies()
        for _, enemy in pairs(enemies) do
            damageEnemy(enemy)
            print("Враг " .. enemy.Name .. " получил пиздец!")
        end
        if #enemies > 0 then
            print("Убил " .. #enemies .. " врагов вокруг!")
        end
    end
end)

print("Килл аура запущена! Радиус: " .. radius .. ", Урон: " .. damage)
