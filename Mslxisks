local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()

local PhantomForcesWindow = Library:NewWindow("Dead Rails Cheats")
local BondCheats = PhantomForcesWindow:NewSection("Bond Farming")

-- Переменные
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")
local moving = false
local moveSpeed = 50 -- Скорость перемещения (будем двигаться шагами)
local detectionRadius = 500 -- Радиус обнаружения облигаций

-- Попытка отключить античит
local function disableAntiCheat()
    for _, script in pairs(game:GetDescendants()) do
        if script:IsA("LocalScript") and (string.find(string.lower(script.Name), "anti") or string.find(string.lower(script.Name), "cheat")) then
            script.Disabled = true
            print("Отключил возможный античит: " .. script.Name)
        end
    end
end

-- Функция для перемещения вперёд через CFrame
local function startMoving()
    moving = true
    while moving do
        local newPos = rootPart.CFrame * CFrame.new(0, 2, -moveSpeed) -- Двигаемся вперёд маленькими шагами
        rootPart.CFrame = newPos
        wait(0.05) -- Задержка, чтобы античит не триггерился
    end
end

-- Функция для остановки движения
local function stopMoving()
    moving = false
end

-- Функция для поиска облигаций
local function findBonds()
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj.Name == "Bond" and (obj.Position - rootPart.Position).Magnitude <= detectionRadius then
            return obj
        end
    end
    return nil
end

-- Функция для поиска всех облигаций в мире
local function findAllBonds()
    local bonds = {}
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj.Name == "Bond" then
            table.insert(bonds, obj)
        end
    end
    return bonds
end

-- Функция для телепорта и сбора
local function collectBond(bond)
    if bond then
        rootPart.CFrame = CFrame.new(bond.Position + Vector3.new(0, 5, 0)) -- Телепорт чуть выше облигации
        wait(0.5)
        -- Предполагаем, что сбор работает через FireServer
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("CollectItem") -- Замени на правильный RemoteEvent
        if remote then
            remote:FireServer(bond)
        end
    end
end

-- Функция для смерти
local function killSelf()
    humanoid.Health = 0
end

-- Основной чит
BondCheats:CreateButton("Start Bond Farming", function()
    -- Пытаемся отключить античит
    disableAntiCheat()

    -- Сбрасываем WalkSpeed, чтобы античит не триггерился
    humanoid.WalkSpeed = 16 -- Обычная скорость ходьбы

    -- Начинаем движение
    startMoving()

    -- Основной цикл
    while true do
        local bond = findBonds()
        if bond then
            stopMoving()
            collectBond(bond)
            wait(0.5)
            startMoving()
        else
            -- Проверяем, застряли ли мы (например, не двигаемся)
            local lastPos = rootPart.Position
            wait(2)
            if (rootPart.Position - lastPos).Magnitude < 5 then
                stopMoving()
                -- Собираем все оставшиеся облигации
                local remainingBonds = findAllBonds()
                for _, bond in pairs(remainingBonds) do
                    collectBond(bond)
                    wait(0.5)
                end
                -- Умираем
                killSelf()
                break
            end
        end
        wait()
    end
end)

BondCheats:CreateButton("Stop Moving", function()
    stopMoving()
end)
