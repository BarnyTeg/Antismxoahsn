-- Создаёт вертолёт на сервере
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local SpawnHelicopterEvent = Instance.new("RemoteEvent")
SpawnHelicopterEvent.Name = "SpawnHelicopterEvent"
SpawnHelicopterEvent.Parent = ReplicatedStorage

SpawnHelicopterEvent.OnServerEvent:Connect(function(player)
    local helicopter = Instance.new("Model")
    helicopter.Name = "Helicopter"

    -- Тело
    local body = Instance.new("Part")
    body.Name = "Body"
    body.Size = Vector3.new(6, 1, 12)
    body.Position = Vector3.new(0, 10, 0)
    body.Anchored = false
    body.BrickColor = BrickColor.new("Really black")
    body.Parent = helicopter

    -- Сиденье
    local seat = Instance.new("VehicleSeat")
    seat.Name = "Seat"
    seat.Size = Vector3.new(2, 1, 2)
    seat.Position = body.Position + Vector3.new(0, 1, 0)
    seat.Anchored = false
    seat.MaxSpeed = 200
    seat.Torque = 10000
    seat.Parent = helicopter

    -- Привязка сиденья к телу
    local weld = Instance.new("WeldConstraint")
    weld.Part0 = seat
    weld.Part1 = body
    weld.Parent = seat

    -- Пропеллер
    local rotor = Instance.new("Part")
    rotor.Name = "Rotor"
    rotor.Size = Vector3.new(1, 0.2, 10)
    rotor.Position = body.Position + Vector3.new(0, 2, 0)
    rotor.Anchored = false
    rotor.BrickColor = BrickColor.new("Dark stone grey")
    rotor.Parent = helicopter

    local weld2 = Instance.new("WeldConstraint")
    weld2.Part0 = rotor
    weld2.Part1 = body
    weld2.Parent = rotor

    -- Собираем и спавним
    helicopter.PrimaryPart = body
    helicopter:SetPrimaryPartCFrame(CFrame.new(player.Character.HumanoidRootPart.Position + Vector3.new(0, 10, 0)))
    helicopter.Parent = workspace
end)
