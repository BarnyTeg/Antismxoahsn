local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- 1. Находим оригинальную газету
local original = workspace:FindFirstChild("Part") or workspace:FindFirstChild("Newspaper")
if not original then
    print("❌ Оригинальная газета не найдена")
    return
end

-- 2. Функция для генерации нового ID в стиле Roblox
local function generateRobloxStyleId()
    return "1_"..tostring(math.random(20000, 30000)) -- Диапазон как у оригинальных ID
end

-- 3. Создаем улучшенную копию
local function createSmartClone(original)
    -- Основная копия (без шаблонов)
    local clone = original:Clone()
    
    -- Удаляем ненужные связи
    for _, child in ipairs(clone:GetDescendants()) do
        if child:IsA("Weld") or child:IsA("WeldConstraint") then
            child:Destroy() -- Удаляем сварки
        end
    end
    
    -- Генерируем новые ID для критических элементов
    clone:SetAttribute("OriginalId", original:GetDebugId())
    clone:SetAttribute("NewId", generateRobloxStyleId())
    
    -- Создаем кастомные шаблоны
    local customTemplate = Instance.new("Part")
    customTemplate.Name = "Custom_"..original.Name
    customTemplate.Size = original.Size
    customTemplate.Transparency = 0.5 -- Помечаем как шаблон
    customTemplate:SetAttribute("TemplateId", generateRobloxStyleId())
    customTemplate.Parent = ReplicatedStorage
    
    -- Настраиваем физику
    clone.Anchored = false
    clone.CanCollide = true
    
    -- Добавляем BodyVelocity для стабильности
    local bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
    bodyVelocity.Parent = clone
    
    return clone
end

-- 4. Создаем и размещаем копию
local newspaperClone = createSmartClone(original)
newspaperClone.Parent = workspace

-- Позиционируем перед игроком
if player.Character then
    local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
    if humanoidRootPart then
        newspaperClone.Position = humanoidRootPart.Position + Vector3.new(0, 0, -3)
    else
        newspaperClone.Position = original.Position + Vector3.new(0, 3, 0)
    end
end

print("✅ Умная копия создана!")
print("Оригинальный ID:", original:GetDebugId())
print("Новый ID:", newspaperClone:GetAttribute("NewId"))
print("ID шаблона:", newspaperClone:FindFirstChild("CustomTemplate"):GetAttribute("TemplateId"))
